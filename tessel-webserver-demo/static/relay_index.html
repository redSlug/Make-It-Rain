<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Raindance</title>
</head>
 
<body >
 
	<script src="https://code.jquery.com/jquery-2.1.1.min.js"> </script>
 
 
	<h1>Raindance</h1>
	
	<button class="water" >Turn on Water</button> 
	<button class="light" >Toggle Lights</button>
	<div id="lightDiv">OFF</div>

	<script>
		var light_state=false;
    	// When one of our LED buttons is clicked, call toggleLED
    	$('.water').click(toggleWater);
    	$('.light').click(toggleLights);
		function toggleWater() {

      		// Make an AJAX post to our tessel with the index
      		$.ajax({
        		type: "GET",
        		url: '/water',
        		success: function() { console.log('water turned on'); },
      		});
    	}
    	function toggleLights() {
			light_state=!light_state;
      		// Make an AJAX post to our tessel with the index
      		$.ajax({
        		type: "GET",
        		url: '/lights',
        		success: function() { console.log('lights toggled'); },
      		});
      		//Change the content in the light div
      		if(light_state==true){
      			$('#lightDiv').text('ON');
      		}else{
      			$('#lightDiv').text('OFF');
      		}
    	}
    	
    	
  	</script>
  	
  	
</body>
</html>